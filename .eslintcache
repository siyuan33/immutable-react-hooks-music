[{"D:\\workspace\\immutable-react-hooks-music\\src\\index.js":"1","D:\\workspace\\immutable-react-hooks-music\\src\\App.js":"2","D:\\workspace\\immutable-react-hooks-music\\src\\reportWebVitals.js":"3","D:\\workspace\\immutable-react-hooks-music\\src\\routes\\index.js":"4","D:\\workspace\\immutable-react-hooks-music\\src\\style.js":"5","D:\\workspace\\immutable-react-hooks-music\\src\\assets\\iconfont\\iconfont.js":"6","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Rank\\index.js":"7","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\index.js":"8","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\index.js":"9","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Home\\index.js":"10","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Home\\style.js":"11","D:\\workspace\\immutable-react-hooks-music\\src\\assets\\global-style.js":"12","D:\\workspace\\immutable-react-hooks-music\\src\\store\\index.js":"13","D:\\workspace\\immutable-react-hooks-music\\src\\store\\reducer.js":"14","D:\\workspace\\immutable-react-hooks-music\\src\\components\\Slider.js":"15","D:\\workspace\\immutable-react-hooks-music\\src\\components\\style.js":"16","D:\\workspace\\immutable-react-hooks-music\\src\\components\\List.js":"17","D:\\workspace\\immutable-react-hooks-music\\src\\utils\\index.js":"18","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\style.js":"19","D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Scroll.js":"20","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\index.js":"21","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\actionTypes.js":"22","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\reducer.js":"23","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\actions.js":"24","D:\\workspace\\immutable-react-hooks-music\\src\\api\\request.js":"25","D:\\workspace\\immutable-react-hooks-music\\src\\api\\config.js":"26","D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Loading.js":"27","D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Horizen-item.jsx":"28","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\index.js":"29","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\actions.js":"30","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\reducer.js":"31","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\actionType.js":"32","D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Loading-v2.jsx":"33","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Rank\\store\\index.js":"34","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Rank\\style.js":"35","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Album\\index.js":"36"},{"size":491,"mtime":1611884785732,"results":"37","hashOfConfig":"38"},{"size":582,"mtime":1612337521796,"results":"39","hashOfConfig":"38"},{"size":375,"mtime":1611884785732,"results":"40","hashOfConfig":"38"},{"size":837,"mtime":1612344132940,"results":"41","hashOfConfig":"38"},{"size":1280,"mtime":1611884785733,"results":"42","hashOfConfig":"38"},{"size":7612,"mtime":1611884785730,"results":"43","hashOfConfig":"38"},{"size":3290,"mtime":1612343950276,"results":"44","hashOfConfig":"38"},{"size":1964,"mtime":1612347596246,"results":"45","hashOfConfig":"38"},{"size":5740,"mtime":1612337849993,"results":"46","hashOfConfig":"38"},{"size":1046,"mtime":1612146666239,"results":"47","hashOfConfig":"38"},{"size":1111,"mtime":1612164605001,"results":"48","hashOfConfig":"38"},{"size":923,"mtime":1611884785728,"results":"49","hashOfConfig":"38"},{"size":398,"mtime":1612150657711,"results":"50","hashOfConfig":"38"},{"size":428,"mtime":1612340788781,"results":"51","hashOfConfig":"38"},{"size":1477,"mtime":1612172810967,"results":"52","hashOfConfig":"38"},{"size":2154,"mtime":1612164660055,"results":"53","hashOfConfig":"38"},{"size":1745,"mtime":1612347185627,"results":"54","hashOfConfig":"38"},{"size":1025,"mtime":1612342112554,"results":"55","hashOfConfig":"38"},{"size":145,"mtime":1612169626009,"results":"56","hashOfConfig":"38"},{"size":3931,"mtime":1612334490758,"results":"57","hashOfConfig":"38"},{"size":120,"mtime":1612171296758,"results":"58","hashOfConfig":"38"},{"size":191,"mtime":1612317055156,"results":"59","hashOfConfig":"38"},{"size":714,"mtime":1612317055157,"results":"60","hashOfConfig":"38"},{"size":1185,"mtime":1612317055157,"results":"61","hashOfConfig":"38"},{"size":714,"mtime":1612338583074,"results":"62","hashOfConfig":"38"},{"size":2602,"mtime":1612342109092,"results":"63","hashOfConfig":"38"},{"size":890,"mtime":1612317055159,"results":"64","hashOfConfig":"38"},{"size":2482,"mtime":1612336755819,"results":"65","hashOfConfig":"38"},{"size":102,"mtime":1612322341402,"results":"66","hashOfConfig":"38"},{"size":2938,"mtime":1612333448667,"results":"67","hashOfConfig":"38"},{"size":933,"mtime":1612319862913,"results":"68","hashOfConfig":"38"},{"size":310,"mtime":1612319662650,"results":"69","hashOfConfig":"38"},{"size":1226,"mtime":1612330830779,"results":"70","hashOfConfig":"38"},{"size":1019,"mtime":1612339896928,"results":"71","hashOfConfig":"38"},{"size":1881,"mtime":1612341260546,"results":"72","hashOfConfig":"38"},{"size":303,"mtime":1612348005361,"results":"73","hashOfConfig":"38"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},"1f8sjdi",{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"76"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"76"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"76"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"76"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"76"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140","usedDeprecatedRules":"76"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"76"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\workspace\\immutable-react-hooks-music\\src\\index.js",[],["154","155"],"D:\\workspace\\immutable-react-hooks-music\\src\\App.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\reportWebVitals.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\routes\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\style.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\assets\\iconfont\\iconfont.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Rank\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\index.js",["156"],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\index.js",["157"],"import React, { memo, useState, useEffect } from \"react\"\r\nimport Horizen from \"@/baseUI/Horizen-item.jsx\"\r\nimport { categoryTypes, alphaTypes } from \"@/api/config\"\r\nimport styled from \"styled-components\"\r\nimport style from \"@/assets/global-style\"\r\nimport Scroll from \"@/baseUI/Scroll\"\r\nimport {\r\n  getSingerList,\r\n  getHotSingerList,\r\n  changeEnterLoading,\r\n  changePageCount,\r\n  refreshMoreSingerList,\r\n  changePullUpLoading,\r\n  changePullDownLoading,\r\n  refreshMoreHotSingerList,\r\n} from \"./store/actions\"\r\nimport { connect } from \"react-redux\"\r\nimport Loading from \"@/baseUI/Loading\"\r\nimport LazyLoad, { forceCheck } from \"react-lazyload\"\r\n\r\n// styled\r\nconst NavContainer = styled.div`\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  top: 95px;\r\n  width: 100%;\r\n  padding: 5px;\r\n  overflow: hidden;\r\n`\r\nconst ListContainer = styled.div`\r\n  position: fixed;\r\n  top: 160px;\r\n  left: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  width: 100%;\r\n`\r\nconst List = styled.div`\r\n  display: flex;\r\n  margin: auto;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  .title {\r\n    margin: 10px 0 10px 10px;\r\n    color: ${style[\"font-color-desc\"]};\r\n    font-size: ${style[\"font-size-s\"]};\r\n  }\r\n`\r\nconst ListItem = styled.div`\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 0 5px;\r\n  padding: 5px 0;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${style[\"border-color\"]};\r\n  .img_wrapper {\r\n    margin-right: 20px;\r\n    img {\r\n      border-radius: 3px;\r\n      width: 50px;\r\n      height: 50px;\r\n    }\r\n  }\r\n  .name {\r\n    font-size: ${style[\"font-size-m\"]};\r\n    color: ${style[\"font-color-desc\"]};\r\n    font-weight: 500;\r\n  }\r\n`\r\nconst renderSingerList = ({ singerList }) => {\r\n  const list = singerList ? singerList.toJS() : []\r\n  return (\r\n    <List>\r\n      {list.map((item, index) => {\r\n        return (\r\n          <ListItem key={item.accountId + \"\" + index}>\r\n            <div className=\"img_wrapper\">\r\n              <LazyLoad\r\n                placeholder={\r\n                  <img\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    src={require(\"@/assets/images/lazy-music.png\")}\r\n                    alt=\"music\"\r\n                  />\r\n                }\r\n              >\r\n                <img\r\n                  src={`${item.picUrl}?param=300x300`}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  alt=\"music\"\r\n                />\r\n              </LazyLoad>\r\n            </div>\r\n            <span className=\"name\">{item.name}</span>\r\n          </ListItem>\r\n        )\r\n      })}\r\n    </List>\r\n  )\r\n}\r\n\r\nfunction Singers(props) {\r\n  let [category, setCategory] = useState(\"\")\r\n  let [alpha, setAlpha] = useState(\"\")\r\n  const {\r\n    singerList,\r\n    enterLoading,\r\n    pullUpLoading,\r\n    pullDownLoading,\r\n    pageCount,\r\n  } = props\r\n  const {\r\n    getHotSingerDispatch,\r\n    updateDispatch,\r\n    pullDownRefreshDispatch,\r\n    pullUpRefreshDispatch,\r\n  } = props\r\n\r\n  useEffect(() => {\r\n    if (!singerList.size) {\r\n      getHotSingerDispatch()\r\n    }\r\n  }, [])\r\n\r\n  let handleUpdateAlpha = (val) => {\r\n    setAlpha(val)\r\n    updateDispatch(category, val)\r\n  }\r\n\r\n  let handleUpdateCatetory = (val) => {\r\n    setCategory(val.key)\r\n    updateDispatch(val, alpha)\r\n  }\r\n\r\n  const handlePullUp = () => {\r\n    pullUpRefreshDispatch(category, alpha, category === \"\", pageCount)\r\n  }\r\n\r\n  const handlePullDown = () => {\r\n    pullDownRefreshDispatch(category, alpha)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavContainer>\r\n        <Horizen\r\n          list={categoryTypes}\r\n          title={\"分类(默认热门):\"}\r\n          handleClick={(val) => handleUpdateCatetory(val)}\r\n          oldVal={category}\r\n        ></Horizen>\r\n        <Horizen\r\n          list={alphaTypes}\r\n          title={\"首字母:\"}\r\n          handleClick={(val) => handleUpdateAlpha(val)}\r\n          oldVal={alpha}\r\n        ></Horizen>\r\n      </NavContainer>\r\n      <ListContainer>\r\n        <Scroll\r\n          pullUp={handlePullUp}\r\n          pullDown={handlePullDown}\r\n          pullUpLoading={pullUpLoading}\r\n          pullDownLoading={pullDownLoading}\r\n          onScroll={forceCheck}\r\n          LoadingActive={true}\r\n        >\r\n          {renderSingerList(props)}\r\n        </Scroll>\r\n        {enterLoading ? <Loading></Loading> : null}\r\n      </ListContainer>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  singerList: state.getIn([\"singers\", \"singerList\"]),\r\n  enterLoading: state.getIn([\"singers\", \"enterLoading\"]),\r\n  pullUpLoading: state.getIn([\"singers\", \"pullUpLoading\"]),\r\n  pullDownLoading: state.getIn([\"singers\", \"pullDownLoading\"]),\r\n  pageCount: state.getIn([\"singers\", \"pageCount\"]),\r\n})\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getHotSingerDispatch() {\r\n      dispatch(getHotSingerList())\r\n    },\r\n    updateDispatch(category, alpha) {\r\n      dispatch(changePageCount(0))\r\n      dispatch(changeEnterLoading(true))\r\n      dispatch(getSingerList(category, alpha))\r\n    },\r\n    // 滑到最底部刷新部分的处理\r\n    pullUpRefreshDispatch(category, alpha, hot, count) {\r\n      dispatch(changePullUpLoading(true))\r\n      dispatch(changePageCount(count + 1))\r\n      if (hot) {\r\n        dispatch(refreshMoreHotSingerList())\r\n      } else {\r\n        dispatch(refreshMoreSingerList(category, alpha))\r\n      }\r\n    },\r\n    //顶部下拉刷新\r\n    pullDownRefreshDispatch(category, alpha) {\r\n      dispatch(changePullDownLoading(true))\r\n      dispatch(changePageCount(0))\r\n      if (category === \"\" && alpha === \"\") {\r\n        dispatch(getHotSingerList())\r\n      } else {\r\n        dispatch(getSingerList(category, alpha))\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(memo(Singers))\r\n","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Home\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Home\\style.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\assets\\global-style.js",["158"],"//扩大可点击区域\r\nconst extendClick = () => {\r\n  return `\r\n    position: relative;\r\n    &:before{\r\n      content: '';\r\n      position: absolute;\r\n      top: -10px; bottom: -10px; left: -10px; right: -10px;\r\n    };\r\n  `\r\n}\r\n//一行文字溢出部分用...代替\r\nconst noWrap = () => {\r\n  return `\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n  `\r\n}\r\n\r\nexport default {\r\n  \"theme-color\": \"#d44439\",\r\n  \"theme-color-shadow\": \"rgba(212, 68, 57, .5)\",\r\n  \"font-color-light\": \"#f1f1f1\",\r\n  \"font-color-desc\": \"#2E3030\",\r\n  \"font-color-desc-v2\": \"#bba8a8\", //略淡\r\n  \"font-size-ss\": \"10px\",\r\n  \"font-size-s\": \"12px\",\r\n  \"font-size-m\": \"14px\",\r\n  \"font-size-l\": \"16px\",\r\n  \"font-size-ll\": \"18px\",\r\n  \"border-color\": \"#e4e4e4\",\r\n  \"background-color\": \"#f2f3f4\",\r\n  \"background-color-shadow\": \"rgba(0, 0, 0, 0.3)\",\r\n  \"highlight-background-color\": \"#fff\",\r\n  extendClick,\r\n  noWrap,\r\n}\r\n","D:\\workspace\\immutable-react-hooks-music\\src\\store\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\store\\reducer.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\components\\Slider.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\components\\style.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\components\\List.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\utils\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\style.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Scroll.js",["159","160","161","162","163","164"],"import React, {\r\n  forwardRef,\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  useImperativeHandle,\r\n  useMemo,\r\n} from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport BScroll from \"better-scroll\"\r\nimport styled from \"styled-components\"\r\nimport { forceCheck } from \"react-lazyload\"\r\nimport Loading from \"./Loading\"\r\nimport LoadingV2 from \"./Loading-v2.jsx\"\r\nimport { debounce } from \"@/utils\"\r\n\r\n// 测试 console.log开关\r\nconst consoleLogToggleSwitch = true\r\n\r\nconst ScrollContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n`\r\nconst Scroll = forwardRef((props, ref) => {\r\n  const [bScroll, setBScroll] = useState()\r\n\r\n  const scrollContaninerRef = useRef()\r\n\r\n  const { direction, click, refresh, bounceTop, bounceBottom } = props\r\n\r\n  const { pullUp, pullDown, onScroll, pullUpLoading, pullDownLoading } = props\r\n  const { LoadingActive } = props\r\n  // bs 实例\r\n  useEffect(() => {\r\n    const scroll = new BScroll(scrollContaninerRef.current, {\r\n      scrollX: direction === \"horizental\",\r\n      scrollY: direction === \"vertical\",\r\n      probeType: 3,\r\n      click: click,\r\n      bounce: {\r\n        top: bounceTop,\r\n        bottom: bounceBottom,\r\n      },\r\n    })\r\n    setBScroll(scroll)\r\n    return () => {\r\n      setBScroll(null)\r\n    }\r\n  }, [])\r\n  // 滑动回调\r\n  useEffect(() => {\r\n    if (!bScroll || !onScroll) return\r\n    bScroll.on(\"scroll\", (scroll) => {\r\n      onScroll(scroll)\r\n    })\r\n    return () => {\r\n      bScroll.off(\"scroll\")\r\n    }\r\n  }, [onScroll, bScroll])\r\n  // 上拉回调\r\n  const pullUpMemo = useMemo(() => {\r\n    return debounce(pullUp, 300)\r\n  }, [pullUp])\r\n  const pullDownMemo = useMemo(() => {\r\n    return debounce(pullDown, 300)\r\n  }, [pullDown])\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !pullUp) return\r\n    bScroll.on(\"scrollEnd\", () => {\r\n      //判断是否滑动到了底部\r\n      if (bScroll.y <= bScroll.maxScrollY) {\r\n        pullUpMemo()\r\n      }\r\n    })\r\n    return () => {\r\n      bScroll.off(\"scrollEnd\")\r\n    }\r\n  }, [pullUp, bScroll])\r\n  // 下拉回调\r\n  useEffect(() => {\r\n    if (!bScroll || !pullDown) return\r\n    bScroll.on(\"touchEnd\", (pos) => {\r\n      //判断用户的下拉动作\r\n      if (pos.y > 30) {\r\n        pullDownMemo()\r\n      }\r\n    })\r\n    return () => {\r\n      bScroll.off(\"touchEnd\")\r\n    }\r\n  }, [pullDown, bScroll])\r\n\r\n  useEffect(() => {\r\n    if (refresh && bScroll) {\r\n      bScroll.refresh()\r\n    }\r\n  })\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    refresh() {\r\n      if (bScroll) {\r\n        bScroll.refresh()\r\n        bScroll.scrollTo(0, 0)\r\n      }\r\n    },\r\n    getBScroll() {\r\n      if (bScroll) {\r\n        return bScroll\r\n      }\r\n    },\r\n  }))\r\n\r\n  const PullUpdisplayStyle = pullUpLoading\r\n    ? { display: \"\" }\r\n    : { display: \"none\" }\r\n  const PullDowndisplayStyle = pullDownLoading\r\n    ? { display: \"\" }\r\n    : { display: \"none\" }\r\n  return (\r\n    <ScrollContainer ref={scrollContaninerRef}>\r\n      {props.children}\r\n      {/* <div style={PullUpdisplayStyle}>\r\n        <Loading></Loading>\r\n      </div> */}\r\n      {/* <div style={PullDowndisplayStyle}> */}\r\n      {LoadingActive ? <LoadingV2></LoadingV2> : null}\r\n      {/* </div> */}\r\n    </ScrollContainer>\r\n  )\r\n})\r\n\r\nScroll.defaultProps = {\r\n  direction: \"vertical\",\r\n  click: true,\r\n  refresh: true,\r\n  onScroll: forceCheck,\r\n  pullUpLoading: false,\r\n  pullDownLoading: false,\r\n  pullUp: null,\r\n  pullDown: (scroll) =>\r\n    consoleLogToggleSwitch ? console.log(scroll, \"scroll\") : null,\r\n  bounceTop: true,\r\n  bounceBottom: true,\r\n  LoadingActive: false,\r\n}\r\n\r\nScroll.propTypes = {\r\n  direction: PropTypes.oneOf([\"vertical\", \"horizental\"]),\r\n  refresh: PropTypes.bool,\r\n  onScroll: PropTypes.func,\r\n  pullUp: PropTypes.func,\r\n  pullDown: PropTypes.func,\r\n  pullUpLoading: PropTypes.bool,\r\n  pullDownLoading: PropTypes.bool,\r\n  bounceTop: PropTypes.bool,\r\n  bounceBottom: PropTypes.bool,\r\n  LoadingActive: PropTypes.bool,\r\n}\r\n\r\nexport default Scroll\r\n","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\actionTypes.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\reducer.js",["165"],"import * as actionTypes from \"./actionTypes.js\"\r\nimport { fromJS } from \"immutable\" // 这里用到 fromJS 把 JS 数据结构转化成 immutable 数据结构\r\n\r\nconst defaultState = fromJS({\r\n  bannerList: [],\r\n  recommendList: [],\r\n  loadingflag: false,\r\n})\r\n\r\n// 获取 immutable 的 状态使用 get api 修改 使用 set api\r\nexport default (state = defaultState, { type, data }) => {\r\n  switch (type) {\r\n    case actionTypes.CHANGE_BANNER:\r\n      return state.set(\"bannerList\", data)\r\n    case actionTypes.CHANGE_RECOMMEND_LIST:\r\n      return state.set(\"recommendList\", data)\r\n    case actionTypes.CHANGE_ENTER_LOADING:\r\n      return state.set(\"loadingflag\", data)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Recommend\\store\\actions.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\api\\request.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\api\\config.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Loading.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Horizen-item.jsx",["166","167"],"import React, { useState, useRef, useEffect, memo, useContext } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Scroll from \"./Scroll.js\"\r\nimport { PropTypes } from \"prop-types\"\r\nimport style from \"@/assets/global-style\"\r\n\r\nconst List = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 30px;\r\n  overflow: hidden;\r\n  width: 200%;\r\n  > span:first-of-type {\r\n    display: block;\r\n    flex: 0 0 auto;\r\n    padding: 5px 0;\r\n    margin-right: 5px;\r\n    color: grey;\r\n    font-size: ${style[\"font-size-m\"]};\r\n    vertical-align: middle;\r\n  }\r\n`\r\nconst ListItem = styled.span`\r\n  flex: 0 0 auto;\r\n  font-size: ${style[\"font-size-m\"]};\r\n  padding: 5px 8px;\r\n  border-radius: 10px;\r\n  &.selected {\r\n    color: ${style[\"theme-color\"]};\r\n    border: 1px solid ${style[\"theme-color\"]};\r\n    opacity: 0.8;\r\n  }\r\n`\r\n\r\nfunction Horizen(props) {\r\n  const { list, oldVal, title } = props\r\n  const { handleClick } = props\r\n  // 加入声明\r\n  const Category = useRef(null)\r\n\r\n  // 加入初始化内容宽度的逻辑\r\n  useEffect(() => {\r\n    let categoryDOM = Category.current\r\n    let tagElems = categoryDOM.querySelectorAll(\"span\")\r\n    let totalWidth = 0\r\n    Array.from(tagElems).forEach((ele) => {\r\n      totalWidth += ele.offsetWidth\r\n    })\r\n    categoryDOM.style.width = `${totalWidth}px`\r\n  }, [])\r\n\r\n  return (\r\n    <Scroll direction={\"horizental\"}>\r\n      <div ref={Category}>\r\n        <List className={\"List\"}>\r\n          <span>{title}</span>\r\n          {list.map((item) => {\r\n            return (\r\n              <ListItem\r\n                key={item.key}\r\n                className={`${oldVal === item.key ? \"selected\" : \"\"}`}\r\n                onClick={() =>\r\n                  handleClick({\r\n                    type: item.type,\r\n                    area: item.area,\r\n                    key: item.key,\r\n                  })\r\n                }\r\n              >\r\n                {item.name}\r\n              </ListItem>\r\n            )\r\n          })}\r\n        </List>\r\n      </div>\r\n    </Scroll>\r\n  )\r\n}\r\n\r\n// 首先考虑接受的参数\r\n//list 为接受的列表数据\r\n//oldVal 为当前的 item 值\r\n//title 为列表左边的标题\r\n//handleClick 为点击不同的 item 执行的方法\r\nHorizen.defaultProps = {\r\n  list: [],\r\n  oldVal: \"\",\r\n  title: \"\",\r\n  handleClick: null,\r\n}\r\n\r\nHorizen.propTypes = {\r\n  list: PropTypes.array,\r\n  oldVal: PropTypes.string,\r\n  title: PropTypes.string,\r\n  handleClick: PropTypes.func,\r\n}\r\nexport default memo(Horizen)\r\n","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\actions.js",["168","169"],"import { getHotSingerListRequest, getSingerListRequest } from \"@/api/request\"\r\nimport {\r\n  CHANGE_SINGER_LIST,\r\n  CHANGE_CATOGORY,\r\n  CHANGE_ALPHA,\r\n  CHANGE_PAGE_COUNT,\r\n  CHANGE_PULLUP_LOADING,\r\n  CHANGE_PULLDOWN_LOADING,\r\n  CHANGE_ENTER_LOADING,\r\n} from \"./actionType\"\r\nimport { fromJS } from \"immutable\"\r\n\r\nconst changeSingerList = (data) => ({\r\n  type: CHANGE_SINGER_LIST,\r\n  data: fromJS(data),\r\n})\r\n\r\nexport const changePageCount = (data) => ({\r\n  type: CHANGE_PAGE_COUNT,\r\n  data,\r\n})\r\n\r\n//进场loading\r\nexport const changeEnterLoading = (data) => ({\r\n  type: CHANGE_ENTER_LOADING,\r\n  data,\r\n})\r\n\r\n//滑动最底部loading\r\nexport const changePullUpLoading = (data) => ({\r\n  type: CHANGE_PULLUP_LOADING,\r\n  data,\r\n})\r\n\r\n//顶部下拉刷新loading\r\nexport const changePullDownLoading = (data) => ({\r\n  type: CHANGE_PULLDOWN_LOADING,\r\n  data,\r\n})\r\n\r\n//第一次加载热门歌手\r\nexport const getHotSingerList = () => {\r\n  return (dispatch) => {\r\n    getHotSingerListRequest(0)\r\n      .then((res) => {\r\n        const data = res.artists\r\n        dispatch(changeSingerList(data))\r\n        dispatch(changeEnterLoading(false))\r\n        dispatch(changePullDownLoading(false))\r\n      })\r\n      .catch(() => {\r\n        console.log(\"热门歌手数据获取失败\")\r\n      })\r\n  }\r\n}\r\n\r\n//加载更多热门歌手\r\nexport const refreshMoreHotSingerList = () => {\r\n  return (dispatch, getState) => {\r\n    const pageCount = getState().getIn([\"singers\", \"pageCount\"])\r\n    const singerList = getState().getIn([\"singers\", \"singerList\"]).toJS()\r\n    getHotSingerListRequest(pageCount)\r\n      .then((res) => {\r\n        const data = [...singerList, ...res.artists]\r\n        dispatch(changeSingerList(data))\r\n        dispatch(changePullUpLoading(false))\r\n      })\r\n      .catch(() => {\r\n        console.log(\"热门歌手数据获取失败\")\r\n      })\r\n  }\r\n}\r\n\r\n//第一次加载对应类别的歌手\r\nexport const getSingerList = (category, alpha) => {\r\n  return (dispatch, getState) => {\r\n    getSingerListRequest(category, alpha, 0)\r\n      .then((res) => {\r\n        const data = res.artists\r\n        dispatch(changeSingerList(data))\r\n        dispatch(changeEnterLoading(false))\r\n        dispatch(changePullDownLoading(false))\r\n      })\r\n      .catch(() => {\r\n        console.log(\"歌手数据获取失败\")\r\n      })\r\n  }\r\n}\r\n\r\n//加载更多歌手\r\nexport const refreshMoreSingerList = (category, alpha) => {\r\n  return (dispatch, getState) => {\r\n    const pageCount = getState().getIn([\"singers\", \"pageCount\"])\r\n    const temp = getState().getIn([\"singers\", \"singerList\"])\r\n    const singerList = temp ? temp.toJS() : []\r\n    getSingerListRequest(category, alpha, pageCount)\r\n      .then((res) => {\r\n        const data = [...singerList, ...res.artists]\r\n        dispatch(changeSingerList(data))\r\n        dispatch(changePullUpLoading(false))\r\n      })\r\n      .catch(() => {\r\n        console.log(\"歌手数据获取失败\")\r\n      })\r\n  }\r\n}\r\n","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\reducer.js",["170"],"import { fromJS } from \"immutable\"\r\nimport * as actionTypes from \"./actionType\"\r\n\r\nconst defaultState = fromJS({\r\n  singerList: [],\r\n  enterLoading: true, //控制进场Loading\r\n  pullUpLoading: false, //控制上拉加载动画\r\n  pullDownLoading: false, //控制下拉加载动画\r\n  pageCount: 0, //这里是当前页数，我们即将实现分页功能\r\n})\r\n\r\nexport default (state = defaultState, { type, data }) => {\r\n  switch (type) {\r\n    case actionTypes.CHANGE_SINGER_LIST:\r\n      return state.set(\"singerList\", data)\r\n    case actionTypes.CHANGE_PAGE_COUNT:\r\n      return state.set(\"pageCount\", data)\r\n    case actionTypes.CHANGE_ENTER_LOADING:\r\n      return state.set(\"enterLoading\", data)\r\n    case actionTypes.CHANGE_PULLUP_LOADING:\r\n      return state.set(\"pullUpLoading\", data)\r\n    case actionTypes.CHANGE_PULLDOWN_LOADING:\r\n      return state.set(\"pullDownLoading\", data)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","D:\\workspace\\immutable-react-hooks-music\\src\\app\\Singers\\store\\actionType.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\baseUI\\Loading-v2.jsx",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Rank\\store\\index.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Rank\\style.js",[],"D:\\workspace\\immutable-react-hooks-music\\src\\app\\Album\\index.js",[],{"ruleId":"171","replacedBy":"172"},{"ruleId":"173","replacedBy":"174"},{"ruleId":"175","severity":1,"message":"176","line":25,"column":6,"nodeType":"177","endLine":25,"endColumn":8,"suggestions":"178"},{"ruleId":"175","severity":1,"message":"179","line":126,"column":6,"nodeType":"177","endLine":126,"endColumn":8,"suggestions":"180"},{"ruleId":"181","severity":1,"message":"182","line":21,"column":1,"nodeType":"183","endLine":38,"endColumn":2},{"ruleId":"184","severity":1,"message":"185","line":13,"column":8,"nodeType":"186","messageId":"187","endLine":13,"endColumn":15},{"ruleId":"175","severity":1,"message":"188","line":50,"column":6,"nodeType":"177","endLine":50,"endColumn":8,"suggestions":"189"},{"ruleId":"175","severity":1,"message":"190","line":80,"column":6,"nodeType":"177","endLine":80,"endColumn":23,"suggestions":"191"},{"ruleId":"175","severity":1,"message":"192","line":93,"column":6,"nodeType":"177","endLine":93,"endColumn":25,"suggestions":"193"},{"ruleId":"184","severity":1,"message":"194","line":115,"column":9,"nodeType":"186","messageId":"187","endLine":115,"endColumn":27},{"ruleId":"184","severity":1,"message":"195","line":118,"column":9,"nodeType":"186","messageId":"187","endLine":118,"endColumn":29},{"ruleId":"181","severity":1,"message":"196","line":10,"column":1,"nodeType":"183","endLine":19,"endColumn":2},{"ruleId":"184","severity":1,"message":"197","line":1,"column":17,"nodeType":"186","messageId":"187","endLine":1,"endColumn":25},{"ruleId":"184","severity":1,"message":"198","line":1,"column":52,"nodeType":"186","messageId":"187","endLine":1,"endColumn":62},{"ruleId":"184","severity":1,"message":"199","line":4,"column":3,"nodeType":"186","messageId":"187","endLine":4,"endColumn":18},{"ruleId":"184","severity":1,"message":"200","line":5,"column":3,"nodeType":"186","messageId":"187","endLine":5,"endColumn":15},{"ruleId":"181","severity":1,"message":"196","line":12,"column":1,"nodeType":"183","endLine":27,"endColumn":2},"no-native-reassign",["201"],"no-negated-in-lhs",["202"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'bannerList', 'getBannerDataDispatch', 'getRecommendListDataDispatch', and 'recommendList'. Either include them or remove the dependency array.","ArrayExpression",["203"],"React Hook useEffect has missing dependencies: 'getHotSingerDispatch' and 'singerList.size'. Either include them or remove the dependency array.",["204"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-unused-vars","'Loading' is defined but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'bounceBottom', 'bounceTop', 'click', and 'direction'. Either include them or remove the dependency array.",["205"],"React Hook useEffect has a missing dependency: 'pullUpMemo'. Either include it or remove the dependency array.",["206"],"React Hook useEffect has a missing dependency: 'pullDownMemo'. Either include it or remove the dependency array.",["207"],"'PullUpdisplayStyle' is assigned a value but never used.","'PullDowndisplayStyle' is assigned a value but never used.","Assign arrow function to a variable before exporting as module default","'useState' is defined but never used.","'useContext' is defined but never used.","'CHANGE_CATOGORY' is defined but never used.","'CHANGE_ALPHA' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"208","fix":"209"},{"desc":"210","fix":"211"},{"desc":"212","fix":"213"},{"desc":"214","fix":"215"},{"desc":"216","fix":"217"},"Update the dependencies array to be: [bannerList, getBannerDataDispatch, getRecommendListDataDispatch, recommendList]",{"range":"218","text":"219"},"Update the dependencies array to be: [getHotSingerDispatch, singerList.size]",{"range":"220","text":"221"},"Update the dependencies array to be: [bounceBottom, bounceTop, click, direction]",{"range":"222","text":"223"},"Update the dependencies array to be: [pullUp, bScroll, pullUpMemo]",{"range":"224","text":"225"},"Update the dependencies array to be: [pullDown, bScroll, pullDownMemo]",{"range":"226","text":"227"},[836,838],"[bannerList, getBannerDataDispatch, getRecommendListDataDispatch, recommendList]",[3063,3065],"[getHotSingerDispatch, singerList.size]",[1264,1266],"[bounceBottom, bounceTop, click, direction]",[1954,1971],"[pullUp, bScroll, pullUpMemo]",[2232,2251],"[pullDown, bScroll, pullDownMemo]"]